<!doctype html>
<html>
  <head>
    <title>Ericometro</title>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    
  </head>

  <body>
    <div class="container">

      <h1>Ericometro</h1>
      
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#loginModal">
        Login
      </button>      
      <button type="button" class="btn btn-success" data-toggle="modal" data-target="#registerModal">
        Register
      </button>

      <!-- Modal -->
      <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Login</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             <h1>Login</h1>
              <form id="LoginUser" action="">
                <input id="loginUserName" type="text" autocomplete="off" />
                <input id="loginUserPass" type="password" autocomplete="off" />
                <button class="btn btn-primary" id="loginCreateUser">Login</button>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

     
      <!-- Modal -->
      <div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Register</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <h1>Register</h1>
              <form id="createUser" action="">
                <input id="userName" type="text" autocomplete="off" />
                <input id="userPass" type="password" autocomplete="off" />
                <button id="createUser">Register</button>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>


    </div>

  </body>


  <script>

    $('#myModal').on('shown.bs.modal', function () {
      $('#myInput').trigger('focus')
    })

    $(function () {  
      var socket = io();

      $('#createUser').submit(function(){
        var userParameters = {
          name: $('#userName').val(), 
          pass: $('#userPass').val()
        };
        socket.emit('create user', userParameters);
        $('#userName').val('');
        $('#userPass').val('');
        return false;
      });

      $('#LoginUser').submit(function(){
        var userParameters = {
          name: $('#loginUserName').val(), 
          pass: $('#loginUserPass').val()
        };
        socket.emit('login user', userParameters);
        return false;
      });

    });
  </script>
    

</html>